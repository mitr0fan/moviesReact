{"version":3,"file":"static\\development\\pages\\index.js","sources":["webpack:///webpack/bootstrap","webpack:///./src/actions/movies-actions.ts","webpack:///./src/components/amount-and-sort-panel/amount-and-sort-panel.tsx","webpack:///./src/components/footer/footer.tsx","webpack:///./src/constants/actionTypes.ts","webpack:///./src/constants/constants.ts","webpack:///./src/containers/header/header.tsx","webpack:///./src/pages/index.tsx","webpack:///./src/reducers/movies-reducer.ts","webpack:///./src/services/httpRequest.ts","webpack:///./src/store/store.ts","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"redux\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import * as TYPES from '../constants/actionTypes';\r\nimport { Movie } from '../types/movie';\r\nimport { Action } from '../types/action';\r\n\r\nexport function getMovies(movies: Movie[]): Action {\r\n    return {\r\n        type: TYPES.GET_MOVIES,\r\n        payload: movies,\r\n    };\r\n}\r\n\r\nexport function changeSearchType(type: string): Action {\r\n    return {\r\n        type: TYPES.CHANGE_SEARCH_TYPE,\r\n        payload: type,\r\n    };\r\n}\r\n\r\nexport function getUnsortedMovies(movies: Movie[]): Action {\r\n    return {\r\n        type: TYPES.GET_UNSORTED_MOVIES,\r\n        payload: movies,\r\n    };\r\n}\r\n\r\nexport function changeSortType(type: string): Action {\r\n    return {\r\n        type: TYPES.CHANGE_SORT_TYPE,\r\n        payload: type,\r\n    };\r\n}\r\n\r\nexport function selectMovieId(id: number): Action {\r\n    return {\r\n        type: TYPES.SELECT_MOVIE_ID,\r\n        payload: id,\r\n    };\r\n}\r\n\r\nexport function selectedMovie(movie: Movie): Action {\r\n    return {\r\n        type: TYPES.SELECTED_MOVIE,\r\n        payload: movie,\r\n    };\r\n}\r\n\r\nexport function changeLoadingStatus(status: boolean): Action {\r\n    return {\r\n        type: TYPES.CHANGE_LOADING_STATUS,\r\n        payload: status,\r\n    };\r\n}\r\n","import React from 'react';\r\nimport './amount-and-sort-panel.scss';\r\nimport { CONSTANTS } from '../../constants/constants';\r\n\r\ntype Props = {\r\n    count: number;\r\n    sortType: string;\r\n    sortBy: (p: string) => any;\r\n};\r\n\r\nexport class AmountAndSortPanel extends React.Component<Props> {\r\n    render() {\r\n        return (\r\n            <div className=\"amount-panel\">\r\n                <div className=\"panel-container\">\r\n                    <span className=\"amount-panel__count\">\r\n                        {this.props.count} movies found\r\n                    </span>\r\n                    <span>Sort by</span>\r\n                    <div\r\n                        className={\r\n                            this.props.sortType === 'date'\r\n                                ? 'amount-panel__sort-date amount-panel__sort-date_active'\r\n                                : 'amount-panel__sort-date'\r\n                        }\r\n                        onClick={() =>\r\n                            this.props.sortBy(CONSTANTS.SORT_BY_DATE)\r\n                        }\r\n                    >\r\n                        release date\r\n                    </div>\r\n                    <div\r\n                        className={\r\n                            this.props.sortType === 'rating'\r\n                                ? 'amount-panel__sort-rating amount-panel__sort-rating_active'\r\n                                : 'amount-panel__sort-rating'\r\n                        }\r\n                        onClick={() =>\r\n                            this.props.sortBy(CONSTANTS.SORT_BY_RATING)\r\n                        }\r\n                    >\r\n                        rating\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './footer.scss';\r\n\r\nexport class Footer extends React.Component {\r\n    render() {\r\n        const date = new Date().getFullYear();\r\n        return (\r\n            <div className=\"container-footer\">\r\n                <footer className=\"footer\">Movies, {date}</footer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","export const GET_MOVIES = 'GET_MOVIES';\r\nexport const SELECT_MOVIE_ID = 'SELECT_MOVIE_ID';\r\nexport const SELECTED_MOVIE = 'SELECT_MOVIE';\r\nexport const SEARCH_MOVIES = 'SEARCH_MOVIES';\r\nexport const CHANGE_SEARCH_TYPE = 'CHANGE_SEARCH_TYPE';\r\nexport const GET_UNSORTED_MOVIES = 'GET_UNSORTED_MOVIES';\r\nexport const CHANGE_SORT_TYPE = 'CHANGE_SORT_TYPE';\r\nexport const CHANGE_LOADING_STATUS = 'CHANGE_LOADING_STATUS';\r\n","export const CONSTANTS = {\r\n    URL_FILMS: 'https://reactjs-cdp.herokuapp.com/movies',\r\n    SEARCH_BY_TITLE_STATE: 'title',\r\n    SEARCH_BY_GENRE_STATE: 'genres',\r\n    SORT_BY_RATING: 'rating',\r\n    SORT_BY_DATE: 'date',\r\n};\r\n","import React, { Fragment, SyntheticEvent } from 'react';\r\nimport './header.scss';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    changeSearchType,\r\n    getMovies,\r\n    changeSortType,\r\n    getUnsortedMovies,\r\n    changeLoadingStatus,\r\n} from '../../actions/movies-actions';\r\nimport { CONSTANTS } from '../../constants/constants';\r\nimport { http } from '../../services/httpRequest';\r\nimport { AmountAndSortPanel } from '../../components/amount-and-sort-panel/amount-and-sort-panel';\r\nimport { Movie } from '../../types/movie';\r\nimport { MoviesResponse } from '../../types/httpType';\r\nimport { State } from '../../types/state';\r\n\r\ninterface Props {\r\n    searchType: string;\r\n    movies: Movie[];\r\n    unsortedMovies: Movie[];\r\n    sortType: string;\r\n    dispatch: (action: any) => any;\r\n}\r\n\r\nclass Header extends React.Component<Props> {\r\n\r\n    static getInitialProps({store}: any) {}\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.handlerInput = this.handlerInput.bind(this);\r\n        this.sortBy = this.sortBy.bind(this);\r\n    }\r\n\r\n    inputValue: string = '';\r\n\r\n    handlerInput(event: SyntheticEvent) {\r\n        const element = event.target as HTMLInputElement;\r\n        this.inputValue = element.value;\r\n    }\r\n\r\n    handlerSearchButton(): void {\r\n        const url = `?search=${this.inputValue}&searchBy=${this.props.searchType}`;\r\n\r\n        http(CONSTANTS.URL_FILMS + url)\r\n            .then((res: MoviesResponse) => {\r\n                this.props.dispatch(getMovies([...res.data]));\r\n\r\n                this.props.dispatch(getUnsortedMovies([...res.data]));\r\n\r\n                if (this.props.sortType !== '') {\r\n                    this.props.dispatch(changeSortType(''));\r\n                }\r\n            })\r\n            .finally(() => this.props.dispatch(changeLoadingStatus(false)));\r\n    }\r\n\r\n    searchByTitle(): void {\r\n        this.props.dispatch(changeSearchType(CONSTANTS.SEARCH_BY_TITLE_STATE));\r\n    }\r\n\r\n    searchByGenre(): void {\r\n        this.props.dispatch(changeSearchType(CONSTANTS.SEARCH_BY_GENRE_STATE));\r\n    }\r\n\r\n    sortFunction(sortType: string): Movie[] | void {\r\n        if (sortType === CONSTANTS.SORT_BY_DATE) {\r\n            return this.props.movies.sort((a: any, b: any) => {\r\n                return (\r\n                    new Date(b.release_date).getTime() -\r\n                    new Date(a.release_date).getTime()\r\n                );\r\n            });\r\n        }\r\n        if (sortType === CONSTANTS.SORT_BY_RATING) {\r\n            return this.props.movies.sort((a: any, b: any) => {\r\n                return b.vote_average - a.vote_average;\r\n            });\r\n        }\r\n    }\r\n\r\n    sortBy(sortType: string): void {\r\n        if (this.props.sortType !== sortType) {\r\n            this.props.dispatch(changeSortType(sortType));\r\n\r\n            const movies = this.sortFunction(sortType);\r\n\r\n            this.props.dispatch(getMovies([...(movies as Movie[])]));\r\n        } else {\r\n            this.props.dispatch(changeSortType(''));\r\n\r\n            this.props.dispatch(getMovies([...this.props.unsortedMovies]));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <header className=\"header\">\r\n                    <div className=\"header__content\">\r\n                        <span className=\"header__app-name\">Movies</span>\r\n                        <span className=\"header__input-name\">\r\n                            Find your movie\r\n                        </span>\r\n                        <div className=\"header__input-field\">\r\n                            <input\r\n                                className=\"header__input\"\r\n                                type=\"text\"\r\n                                onChange={this.handlerInput}\r\n                            ></input>\r\n                        </div>\r\n                        <div className=\"header__buttons\">\r\n                            <span>SEARCH BY</span>\r\n                            <button\r\n                                className={\r\n                                    this.props.searchType === 'title'\r\n                                        ? 'button button_active'\r\n                                        : 'button'\r\n                                }\r\n                                onClick={() => this.searchByTitle()}\r\n                            >\r\n                                TITLE\r\n                            </button>\r\n                            <button\r\n                                className={\r\n                                    this.props.searchType === 'genres'\r\n                                        ? 'button button_active'\r\n                                        : 'button'\r\n                                }\r\n                                onClick={() => this.searchByGenre()}\r\n                            >\r\n                                GENRE\r\n                            </button>\r\n                            <div className=\"empty\"></div>\r\n                            <button\r\n                                className=\"button button_search\"\r\n                                onClick={() => this.handlerSearchButton()}\r\n                            >\r\n                                SEARCH\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n                <AmountAndSortPanel\r\n                    count={this.props.movies.length}\r\n                    sortBy={this.sortBy}\r\n                    sortType={this.props.sortType}\r\n                />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: State) {\r\n    return {\r\n        searchType: state.searchType,\r\n        movies: state.movies,\r\n        unsortedMovies: state.unsortedMovies,\r\n        sortType: state.sortType,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React from \"react\";\r\nimport { Footer } from \"../components/footer/footer\";\r\nimport Header from '../containers/header/header';\r\n\r\nexport default class Index extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <Footer />\r\n                <style>\r\n                    {`\r\n                        body {\r\n                            margin: 0;\r\n                            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\r\n                                'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\r\n                                'Helvetica Neue', sans-serif;\r\n                            -webkit-font-smoothing: antialiased;\r\n                            -moz-osx-font-smoothing: grayscale;\r\n                        }\r\n                    `}\r\n                </style>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import { Action } from '../types/action';\r\nimport * as types from '../constants/actionTypes';\r\nimport { CONSTANTS } from '../constants/constants';\r\nimport { State } from '../types/state';\r\nimport { Movie } from '../types/movie';\r\n\r\nconst initiaiState: State = {\r\n    movies: [],\r\n    searchType: CONSTANTS.SEARCH_BY_TITLE_STATE,\r\n    unsortedMovies: [],\r\n    sortType: '',\r\n    movieId: null,\r\n    selectedMovie: null,\r\n    loadingStatus: false,\r\n};\r\n\r\nexport function changeMoviesState(\r\n    state: State = initiaiState,\r\n    action: Action\r\n): State {\r\n    switch (action.type) {\r\n        case types.GET_MOVIES:\r\n            return {\r\n                ...state,\r\n                movies: action.payload as Movie[],\r\n            };\r\n        case types.SEARCH_MOVIES:\r\n            return {\r\n                ...state,\r\n                movies: action.payload as Movie[],\r\n            };\r\n        case types.CHANGE_SEARCH_TYPE:\r\n            return {\r\n                ...state,\r\n                searchType: action.payload as string,\r\n            };\r\n        case types.GET_UNSORTED_MOVIES:\r\n            return {\r\n                ...state,\r\n                unsortedMovies: action.payload as Movie[],\r\n            };\r\n        case types.CHANGE_SORT_TYPE:\r\n            return {\r\n                ...state,\r\n                sortType: action.payload as string,\r\n            };\r\n        case types.SELECT_MOVIE_ID:\r\n            return {\r\n                ...state,\r\n                movieId: action.payload as number,\r\n            };\r\n        case types.SELECTED_MOVIE:\r\n            return {\r\n                ...state,\r\n                selectedMovie: action.payload as Movie,\r\n            };\r\n        case types.CHANGE_LOADING_STATUS:\r\n            return {\r\n                ...state,\r\n                loadingStatus: action.payload as boolean,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import store from '../store/store';\r\nimport { changeLoadingStatus } from '../actions/movies-actions';\r\n\r\nexport function http(url: string): Promise<any> {\r\n    store.dispatch(changeLoadingStatus(true));\r\n    return fetch(url).then(\r\n        (response) => response.json(),\r\n        (error) => console.warn(error)\r\n    );\r\n}\r\n","import { createStore } from \"redux\";\r\nimport { changeMoviesState } from \"../reducers/movies-reducer\";\r\n\r\nconst store = createStore(changeMoviesState);\r\n\r\nexport default store;","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"redux\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAFA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnDA;AACA;AACA;AAQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAKA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAKA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AArCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AATA;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AAYA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAKA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAKA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AA/HA;AACA;AAgIA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACnKA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;AAAA;AAcA;AACA;AArBA;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAIA;AACA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AA1CA;AA4CA;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAIA;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;;;;;;;;;;;;;;;;;;;;;;;ACLA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}